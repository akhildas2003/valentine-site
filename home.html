<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Valentine</title>

<style>
body{
  margin:0;
  font-family:Arial;
}

/* WHITE START SCREEN */
#startScreen{
  position:fixed;
  width:100%;
  height:100vh;
  background:white;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:10;
}

#openBtn{
  padding:20px 60px;
  font-size:28px;
  border:none;
  border-radius:50px;
  background:black;
  color:white;
  cursor:pointer;
}

/* MAIN PAGE */
#mainPage{
  display:none;
  height:100vh;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#080807,hwb(0 4% 95%));
  overflow:hidden;
}

.card{
  background:white;
  padding:40px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}

button{
  padding:12px 30px;
  border:none;
  border-radius:25px;
  background:#e63946;
  color:white;
  font-size:18px;
  cursor:pointer;
  margin:10px;
}

.no-btn{ position:absolute; }

.heart{
  position:fixed;
  top:-10vh;                 /* start above screen */
  font-size:25px;
  pointer-events:none;
  animation:fall 8s linear forwards;
}

@keyframes fall{
  0%{
    transform:translateY(0);
    opacity:1;
  }
  100%{
    transform:translateY(110vh);   /* go fully bottom */
    opacity:0;
  }
}

</style>
</head>

<body>

<!-- WHITE SCREEN -->
<div id="startScreen">
  <button id="openBtn">#1‚ù§Ô∏è</button>
</div>

<!-- MAIN VALENTINE PAGE -->
<div id="mainPage">

<div class="card">
  <h1>Devutty, Will you be my Valentine Forever? ‚ù§Ô∏è</h1>
  <button onclick="showHearts()">Yes</button>
  <button class="no-btn" id="noBtn">No</button>
  <br>
  <button onclick="location.href='Gallery.html'">Our Gallery üì∏</button>
</div>

</div>

<!-- MUSIC -->
<audio id="music" loop>
  <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
const openBtn = document.getElementById("openBtn");
const startScreen = document.getElementById("startScreen");
const mainPage = document.getElementById("mainPage");
const music = document.getElementById("music");

/* restore time */
let time = localStorage.getItem("musicTime");
if(time){ music.currentTime = time; }

/* OPEN CLICK */
openBtn.onclick = () => {
  startScreen.style.display = "none";
  mainPage.style.display = "flex";
  music.play().catch(()=>{});
};

function showHearts(){
  for(let i=0;i<80;i++){
    setTimeout(()=>{
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.innerHTML = "ü§ç";
  

      // random horizontal position
      heart.style.left = Math.random()*100 + "vw";

      // random size
      heart.style.fontSize = (20 + Math.random()*30) + "px";

      document.body.appendChild(heart);

      setTimeout(()=>heart.remove(),8000);
    }, i*120);
  }
}


/* NO BUTTON RUN */
const noBtn=document.getElementById("noBtn");
noBtn.onmouseover=()=>{
  noBtn.style.left=Math.random()*80+"vw";
  noBtn.style.top=Math.random()*80+"vh";
};

/* save music time */
setInterval(()=>{
  localStorage.setItem("musicTime", music.currentTime);
},1000);


</script>

</body>
</html>
